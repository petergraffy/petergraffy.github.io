<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peter Graffy</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#projects">Projects</a></li>
            <li><a href="#publications">Publications</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <section id="home">
        <img src="img/headshot.jpg" alt="Peter Graffy Headshot" class="headshot">
        <h1>Peter Graffy, MPH</h1>
        <h2>PhD Candidate, Biomedical Informatics</h2>
        <h2>American Heart Association Predoctoral Fellow</h2>
        <h2>Luther College | University of Wisconsin Madison | Northwestern University</h2>
    </section>

    <section id="about">
        <div class="container">
        <h2>About Me</h2>
        <p>Hello! I am a PhD candidate (expected dissertation defense: May 2025) in biomedical informatics at Northwestern University and a predoctoral fellow with the American Heart Association.
        My work focuses on electronic health record linkage for population health surveillance and dynamic risk prediction using novel ML analytical methods. I've developed computer-aided
        detection and geolinkage tools that harness protected health information in a HIPAA-compliant manner to improve individual and community health outcomes.
        My dissertation work evaluates the impact of climate change-related extreme heat events on Chicago through community level assessment and individual level computational phenotypes that integrate EHR and ecological data. </p>
        </div>
    </section>

    <!-- Projects Section (for your current work) -->
    <section id="projects">
        <div class="container">
        <h2>Projects</h2>
            <h3>A tool for geospatial linkage of patient healthcare encounters with Daymet climate variables.</h3>
        <p>
            The <strong>Daymet DeGAUSS Tool</strong> is an advanced resource I developed with fellow PhD candidate Ben Barrett to facilitate the integration of high-resolution weather and climate data with research projects. Using <a href="https://daymet.ornl.gov/" target="_blank">Daymet</a>, a data product from Oak Ridge National Laboratory, this tool allows researchers to quickly access daily surface weather parameters such as temperature, precipitation, and shortwave radiation.
        </p>
        <p>
            Designed with usability in mind, the tool provides a Docker containerized package that allows users to provide geocoded patient data using HIPAA-compliant DeGAUSS architecture and retrieve Daymet weather data from 1980 to the present at a 1km resolution. It's tailored for epidemiologists, environmental health scientists, and others who need precise weather data for modeling and analysis.
        </p>
        <p>
            <strong>Key Features:</strong>
            <ul>
                <li>Supports batch file uploads for large datasets (5+ million encounters).</li>
                <li>Automatically retrieves historical weather data for user-defined locations.</li>
                <li>Efficient integration with R and Python workflows.</li>
            </ul>
        </p>
        <p>
            Whether you're investigating the effects of climate on public health or conducting environmental assessments, this tool provides robust and accurate data access.
        </p>
        <p>
            Visit the <a href="https://degauss.org/daymet/" target="_blank">Daymet DeGAUSS Tool</a> to learn more and explore its capabilities.
        </p>
        </div>
    </section>

    <!-- Publications Section (for NIH publications) -->
    <section id="publications">
        <div class="container">
            <h2>Publications</h2>
            <div id="publication-list">
        <p>Loading publications...</p>
            </div>
        </div>
    </section>
    
    <section id="contact">
        <h2>Contact</h2>
        <p>Email: <a href="mailto:petergraffy@gmail.com">petergraffy@gmail.com</a></p>
    </section>

    <footer>
        <p>&copy; Peter Graffy 2024</p>
    </footer>

    <!-- JavaScript to Fetch and Display NIH Publications -->
    <script>
        const fetchPublications = async () => {
            try {
                const esearchUrl = 'https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=Peter+Graffy[Author]&retmode=json';
                const esearchResponse = await fetch(esearchUrl);
                const esearchData = await esearchResponse.json();
                const pubmedIDs = esearchData.esearchresult.idlist;

                const ids = pubmedIDs.join(',');
                const esummaryUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&id=${ids}&retmode=json`;
                const esummaryResponse = await fetch(esummaryUrl);
                const esummaryData = await esummaryResponse.json();

                const publicationsDiv = document.getElementById('publications');
                publicationsDiv.innerHTML = '';

                pubmedIDs.forEach(id => {
                    const pub = esummaryData.result[id];
                    const pubDiv = document.createElement('div');
                    pubDiv.classList.add('publication');
                    pubDiv.innerHTML = `
                        <h3><a href="https://pubmed.ncbi.nlm.nih.gov/${id}/" target="_blank">${pub.title}</a></h3>
                        <p>${pub.source}</p>
                    `;
                    publicationsDiv.appendChild(pubDiv);
                });
            } catch (error) {
                console.error('Error fetching publications:', error);
            }
        };

        fetchPublications();
    </script>
</body>
</html>
